# 重复文件清理工具

一个用于检测和清理重复文件的命令行工具，支持中文交互界面和空间统计功能。

## 功能特点

- 🚀 快速扫描指定目录下的重复文件
- 🔍 基于MD5哈希值精确识别重复内容
- 📊 显示预计和实际可清理的空间大小
- 🛡️ 删除前需用户确认，避免误删
- 🌐 支持中文交互界面

## 安装方法

### 从源码编译

1.  确保已安装Go语言环境（1.16+）
2.  克隆或下载项目代码
3.  进入项目根目录：
    ```bash
    cd clean_repeat_files
    ```
4.  编译程序：
    ```bash
    go build -o clean_repeat_files ./cmd/clean_repeat_files
    ```

### 直接运行

如果您不想编译，可以直接运行：

```bash
go run ./cmd/clean_repeat_files
```

## 使用说明

### 基本用法

运行程序后，将进入交互式界面，引导您选择要扫描的目录。

```bash
./clean_repeat_files
```
或
```bash
go run ./cmd/clean_repeat_files
```

### 参数说明

您也可以通过命令行参数直接指定目录路径，跳过交互式选择：

| 参数   | 说明                     | 必填 |
|--------|--------------------------|------|
| -path  | 指定要扫描的目录路径     | 否   |

### 使用示例

1.  交互式选择目录进行扫描和清理：
    ```bash
    ./clean_repeat_files
    ```
    程序会提示您选择预设目录或输入自定义目录。

2.  直接扫描并清理指定目录：
    ```bash
    ./clean_repeat_files -path ~/Downloads
    ```
3.  程序会显示发现的重复文件数量和预计可清理空间
4.  输入`y`确认清理，或`n`取消操作

## 跨平台编译

此项目已集成 GoReleaser 以支持多平台编译和发布。您可以使用以下命令进行构建和发布：

### 构建快照版本 (用于测试)

```bash
make snapshot
```

此命令将在 `dist/` 目录下生成一个快照版本，而无需创建 Git 标签。

### 构建正式发布版本

1.  确保您的代码已提交并且工作目录干净。
2.  为您的发布创建一个 Git 标签 (例如 `v1.0.0`)：
    ```bash
    git tag v1.0.0
    git push origin v1.0.0
    ```
3.  运行发布命令：
    ```bash
    make release
    ```

此命令将根据 `.goreleaser.yaml` 配置，在 `dist/` 目录下生成所有配置的平台（例如 macOS amd64 和 arm64）的二进制文件和归档文件，并生成校验和。

## 注意事项

1.  程序需要读取和删除文件的权限，请确保有足够的权限
2.  清理操作不可逆，请确认后再执行
3.  大目录扫描可能需要较长时间，请耐心等待
4.  程序会跳过无法访问的文件并继续执行